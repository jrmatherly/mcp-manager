/* Custom TailwindCSS v4 utilities for Glassmorphism and 3D transforms */
/* Enhanced utilities for modern web applications with performance optimization */

@layer utilities {
  /* 3D Transform utilities */
  .perspective-1000 {
    perspective: 1000px;
    -webkit-perspective: 1000px;
  }

  .perspective-1500 {
    perspective: 1500px;
    -webkit-perspective: 1500px;
  }

  .preserve-3d {
    transform-style: preserve-3d;
    -webkit-transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }

  .rotate-y-180 {
    transform: rotateY(180deg);
    -webkit-transform: rotateY(180deg);
  }

  .rotate-x-180 {
    transform: rotateX(180deg);
    -webkit-transform: rotateX(180deg);
  }

  /* Glass morphism backdrop utilities */
  .backdrop-glass {
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
  }

  .backdrop-glass-sm {
    backdrop-filter: blur(6px) saturate(120%);
    -webkit-backdrop-filter: blur(6px) saturate(120%);
  }

  .backdrop-glass-lg {
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }

  /* Gradient text utilities with theme awareness */
  .text-gradient {
    background: linear-gradient(90deg, #3b82f6, #8b5cf6, #ec4899);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .text-gradient-subtle {
    background: linear-gradient(135deg, #6b7280, #374151);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  .dark .text-gradient-subtle {
    background: linear-gradient(135deg, #9ca3af, #e5e7eb);
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Performance-optimized glass utilities */
  .will-change-glass {
    will-change: backdrop-filter, transform, opacity;
  }

  .gpu-accelerated {
    transform: translate3d(0, 0, 0);
    -webkit-transform: translate3d(0, 0, 0);
  }

  /* Container query utilities for TailwindCSS v4 */
  .container-glass {
    container-type: inline-size;
    container-name: glass-container;
  }

  @container glass-container (min-width: 768px) {
    .container-glass-enhanced {
      backdrop-filter: blur(16px) saturate(150%);
    }
  }

  /* Modern CSS Grid utilities */
  .glass-grid-auto {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 1.5rem;
  }

  /* Advanced shadow utilities */
  .shadow-glass-inset {
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
  }

  .dark .shadow-glass-inset {
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
  }

  /* Dark mode compatible card shadows */
  .shadow-card-hover {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }

  .dark .shadow-card-hover {
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.3),
      0 2px 4px -1px rgba(0, 0, 0, 0.2),
      0 0 0 1px rgba(255, 255, 255, 0.05),
      inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  /* Enhanced shadow with glow effect for dark mode */
  .shadow-card-hover-enhanced {
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06),
      0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .dark .shadow-card-hover-enhanced {
    box-shadow:
      0 8px 25px -5px rgba(0, 0, 0, 0.6),
      0 4px 6px -2px rgba(0, 0, 0, 0.4),
      0 0 0 1px rgba(255, 255, 255, 0.1),
      inset 0 1px 0 rgba(255, 255, 255, 0.2),
      0 0 30px rgba(59, 130, 246, 0.25),
      0 0 60px rgba(147, 51, 234, 0.1);
  }

  /* Alternative dark mode shadow variants for different card types */
  .shadow-card-subtle-enhanced {
    box-shadow:
      0 2px 4px -1px rgba(0, 0, 0, 0.08),
      0 1px 2px -1px rgba(0, 0, 0, 0.04);
  }

  .dark .shadow-card-subtle-enhanced {
    box-shadow:
      0 4px 12px -2px rgba(0, 0, 0, 0.4),
      0 2px 4px -1px rgba(0, 0, 0, 0.3),
      0 0 0 1px rgba(255, 255, 255, 0.06),
      inset 0 1px 0 rgba(255, 255, 255, 0.1),
      0 0 20px rgba(99, 102, 241, 0.15);
  }

  .shadow-card-strong-enhanced {
    box-shadow:
      0 8px 16px -4px rgba(0, 0, 0, 0.12),
      0 4px 8px -2px rgba(0, 0, 0, 0.08),
      0 0 0 1px rgba(0, 0, 0, 0.05);
  }

  .dark .shadow-card-strong-enhanced {
    box-shadow:
      0 16px 40px -8px rgba(0, 0, 0, 0.7),
      0 8px 16px -4px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.12),
      inset 0 2px 0 rgba(255, 255, 255, 0.25),
      0 0 40px rgba(59, 130, 246, 0.3),
      0 0 80px rgba(168, 85, 247, 0.15);
  }
}

@layer components {
  /* Glassmorphism surface variants */
  .glass-surface {
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    @apply rounded-xl border border-white/20 dark:border-white/10;
    background: rgba(255, 255, 255, 0.8);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.8);
  }

  .dark .glass-surface {
    background: rgba(30, 41, 59, 0.8);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .glass-surface-subtle {
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    @apply rounded-lg border border-white/10 dark:border-white/5;
    background: rgba(255, 255, 255, 0.6);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05), inset 0 1px 0 rgba(255, 255, 255, 0.6);
  }

  .dark .glass-surface-subtle {
    background: rgba(30, 41, 59, 0.6);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2), inset 0 1px 0 rgba(255, 255, 255, 0.08);
  }

  .glass-surface-strong {
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    @apply rounded-xl border border-white/30 dark:border-white/15;
    background: rgba(255, 255, 255, 0.9);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.9);
  }

  .dark .glass-surface-strong {
    background: rgba(30, 41, 59, 0.9);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4), inset 0 1px 0 rgba(255, 255, 255, 0.15);
  }

  /* Interactive glassmorphism elements */
  .glass-interactive {
    /* Glass surface base styles - cannot use @apply with @layer components in Tailwind v4 */
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    background: rgba(255, 255, 255, 0.25);
    border: 1px solid rgba(255, 255, 255, 0.18);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), inset 0 1px 0 rgba(255, 255, 255, 0.8);

    /* Interactive styles */
    cursor: pointer;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .dark .glass-interactive {
    background: rgba(30, 41, 59, 0.8);
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .glass-interactive:hover {
    transform: translateY(-1px);
    box-shadow: 0 12px 48px rgba(0, 0, 0, 0.15), inset 0 1px 0 rgba(255, 255, 255, 0.5);
  }

  .dark .glass-interactive:hover {
    box-shadow: 0 12px 48px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
  }

  /* Themed glass containers */
  .glass-primary {
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    @apply rounded-xl border border-primary/20;
    background: color-mix(in srgb, hsl(var(--primary)) 10%, rgba(255, 255, 255, 0.8));
    box-shadow: 0 4px 16px color-mix(in srgb, hsl(var(--primary)) 20%, transparent),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
  }

  .dark .glass-primary {
    background: color-mix(in srgb, hsl(var(--primary)) 10%, rgba(30, 41, 59, 0.8));
    box-shadow: 0 4px 16px color-mix(in srgb, hsl(var(--primary)) 30%, transparent),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }

  .glass-accent {
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    @apply rounded-xl border border-accent/20;
    background: color-mix(in srgb, hsl(var(--accent)) 10%, rgba(255, 255, 255, 0.8));
    box-shadow: 0 4px 16px color-mix(in srgb, hsl(var(--accent)) 20%, transparent),
                inset 0 1px 0 rgba(255, 255, 255, 0.8);
  }

  .dark .glass-accent {
    background: color-mix(in srgb, hsl(var(--accent)) 10%, rgba(30, 41, 59, 0.8));
    box-shadow: 0 4px 16px color-mix(in srgb, hsl(var(--accent)) 30%, transparent),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
  }
}
